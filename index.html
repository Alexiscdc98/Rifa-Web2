<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brillantez Joyer√≠a - Rifa Online</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
            background: linear-gradient(to right, black, gold);
            color: white;
        }
        input, select, button {
            padding: 10px;
            font-size: 16px;
            margin: 5px;
        }
        .pago-info {
            font-size: 18px;
            margin: 20px 0;
            background: rgba(255, 215, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
        }
        #comprobante {
            margin-top: 10px;
        }
        button {
            background-color: gold;
            border: none;
            padding: 10px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>üíé Brillantez Joyer√≠a - Rifa Online üíé</h1>

    <h2>Registro de Participantes</h2>
    <form id="registroForm">
        <input type="text" id="nombre" placeholder="Tu nombre" required>
        <input type="text" id="cedula" placeholder="Tu c√©dula" required>
        <input type="tel" id="telefono" placeholder="Tu n√∫mero telef√≥nico" required>
        <input type="email" id="correo" placeholder="Tu correo" required>
        <label for="cantidad">Cantidad de n√∫meros a jugar:</label>
        <select id="cantidad">
            <option value="1">1 N√∫mero</option>
            <option value="2">2 N√∫meros</option>
            <option value="3">3 N√∫meros</option>
            <option value="5">5 N√∫meros</option>
        </select>
        <button type="submit">Registrar y Generar N√∫mero</button>
    </form>
    <div id="resultado"></div>

    <h2>Selecciona tu M√©todo de Pago</h2>

    <div class="pago-info">
        <p><strong>Pago M√≥vil (Venezuela)</strong></p>
        <p>Banco: Banco de Venezuela</p>
        <p>C√©dula: V26774947</p>
        <p>Tel√©fono: 0412-6845069</p>
        <button onclick="confirmarPago()">Confirmar Pago</button>
    </div>

    <h2>Sube tu comprobante de pago</h2>
    <form id="pagoForm">
        <input type="file" id="comprobante" accept="image/*" required>
        <button type="submit">Enviar Comprobante</button>
    </form>

    <script>
        let numerosDisponibles = Array.from({ length: 1000 }, (_, i) => String(i).padStart(3, '0'));

        document.getElementById("registroForm").addEventListener("submit", function(event) {
            event.preventDefault();
            
            const nombre = document.getElementById("nombre").value;
            const cedula = document.getElementById("cedula").value;
            const telefono = document.getElementById("telefono").value;
            const correo = document.getElementById("correo").value;
            const cantidad = parseInt(document.getElementById("cantidad").value);
            let numeros = [];

            for (let i = 0; i < cantidad; i++) {
                if (numerosDisponibles.length > 0) {
                    const indice = Math.floor(Math.random() * numerosDisponibles.length);
                    numeros.push(numerosDisponibles.splice(indice, 1)[0]);
                }
            }

            document.getElementById("resultado").innerHTML = `
                <p>${nombre}, tus n√∫meros de rifa son: <strong>${numeros.join(", ")}</strong></p>
                <p>C√©dula registrada: ${cedula}</p>
                <p>Tel√©fono registrado: ${telefono}</p>
                <p>Correo registrado: ${correo}</p>
            `;

            sessionStorage.setItem(correo, JSON.stringify(numeros));
        });

        function confirmarPago() {
            const correo = document.getElementById("correo").value;
            const numeros = JSON.parse(sessionStorage.getItem(correo));

            if (numeros) {
                alert(`Pago confirmado. Se enviar√°n tus n√∫meros (${numeros.join(", ")}) al correo ${correo}.`);
            } else {
                alert("No se encontr√≥ un registro asociado. Aseg√∫rate de haber generado tu n√∫mero antes de confirmar el pago.");
            }
        }

        document.getElementById("pagoForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const file = document.getElementById("comprobante").files[0];

            if (file) {
                alert("Comprobante de pago recibido. ¬°Gracias por participar!");
            } else {
                alert("Por favor, sube una captura de pantalla del pago.");
            }
        });
    </script>
</body>
</html>
